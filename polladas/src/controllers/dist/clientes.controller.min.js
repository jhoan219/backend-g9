"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.eliminarCliente=exports.actualizarCliente=exports.traerClientePorId=exports.listarClientes=exports.crearCliente=void 0;var _prisma=require("../prisma.js"),crearCliente=function(r,t){var n,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.body,e.prev=1,e.next=4,regeneratorRuntime.awrap(_prisma.Prisma.cliente.create({data:n}));case 4:return a=e.sent,e.abrupt("return",t.status(201).json({message:"Cliente creado",content:a}));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",t.status(500).json({message:"Error en el servidor",error:e.t0.message}));case 11:case"end":return e.stop()}},null,null,[[1,8]])};exports.crearCliente=crearCliente;var listarClientes=function(e,r){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(_prisma.Prisma.cliente.findMany());case 3:return t=e.sent,e.abrupt("return",r.status(200).json({message:"Lista clientes",content:t}));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",r.status(500).json({message:"Erro inesperado",error:e.t0.message}));case 10:case"end":return e.stop()}},null,null,[[0,7]])};exports.listarClientes=listarClientes;var traerClientePorId=function(r,t){var n,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.params.id,e.prev=1,e.next=4,regeneratorRuntime.awrap(_prisma.Prisma.cliente.findUnique({where:{id:Number(n)}}));case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return",t.status(404).json({message:"Cliente no encontrado"}));case 7:return e.abrupt("return",t.status(200).json({message:"Cliente encontrado",content:a}));case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",t.status(500).json({message:"Erro inesperado",error:e.t0.message}));case 13:case"end":return e.stop()}},null,null,[[1,10]])};exports.traerClientePorId=traerClientePorId;var actualizarCliente=function(){var r,t,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r=req.params.id,t=req.body,e.prev=2,e.next=5,regeneratorRuntime.awrap(_prisma.Prisma.cliente.findUnique({where:{id:Number(r)}}));case 5:if(e.sent){e.next=8;break}return e.abrupt("return",res.status(404).json({message:"Cliente no encontrado"}));case 8:return e.next=10,regeneratorRuntime.awrap(_prisma.Prisma.cliente.update({data:t}));case 10:return n=e.sent,e.abrupt("return",res.status(201).json({message:"Cliente actualizado",content:n}));case 14:return e.prev=14,e.t0=e.catch(2),e.abrupt("return",res.status(500).json({message:"Erro inesperado",error:e.t0.message}));case 17:case"end":return e.stop()}},null,null,[[2,14]])};exports.actualizarCliente=actualizarCliente;var eliminarCliente=function(r,t){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.params.id,e.prev=1,e.next=4,regeneratorRuntime.awrap(_prisma.Prisma.cliente.findUnique({where:{id:Number(n)}}));case 4:if(e.sent){e.next=7;break}return e.abrupt("return",t.status(404).json({message:"Cliente no encontrado"}));case 7:return e.next=9,regeneratorRuntime.awrap(_prisma.Prisma.cliente.delete({where:{id:Number(n)}}));case 9:return e.sent,e.abrupt("return",t.status(200).json({message:"Cliente eliminado"}));case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",t.status(500).json({message:"Erro inesperado",error:e.t0.message}));case 16:case"end":return e.stop()}},null,null,[[1,13]])};exports.eliminarCliente=eliminarCliente;
//# sourceMappingURL=clientes.controller.min.js.map
