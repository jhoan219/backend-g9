{"version":3,"sources":["pedidos.controller.js"],"names":["crearPedido","req","res","data","body","Prisma","cabeceraPedido","create","clienteId","fechaEmision","detalles","pedidoDetalle","select","id","cantidad","producto","nombre","valorVenta","pedidos","status","json","message","content","error"],"mappings":";;;;;;;AAAA;;AAEO,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBC,UAAAA,IADmB,GACZF,GAAG,CAACG,IADQ;AAAA;AAAA;AAAA,0CAGDC,eAAOC,cAAP,CAAsBC,MAAtB,CAA6B;AACjDJ,YAAAA,IAAI,EAAE;AACJK,cAAAA,SAAS,EAAEL,IAAI,CAACK,SADZ;AAEJC,cAAAA,YAAY,EAAEN,IAAI,CAACM,YAFf;AAGJC,cAAAA,QAAQ,EAAE;AACRH,gBAAAA,MAAM,EAAEJ,IAAI,CAACQ;AADL;AAHN,aAD2C;AAQjDC,YAAAA,MAAM,EAAE;AACNJ,cAAAA,SAAS,EAAE,IADL;AAENC,cAAAA,YAAY,EAAE,IAFR;AAGNC,cAAAA,QAAQ,EAAE;AACRE,gBAAAA,MAAM,EAAE;AACNC,kBAAAA,EAAE,EAAE,IADE;AAENC,kBAAAA,QAAQ,EAAE,IAFJ;AAGNC,kBAAAA,QAAQ,EAAE;AACRH,oBAAAA,MAAM,EAAE;AACNC,sBAAAA,EAAE,EAAE,IADE;AAENG,sBAAAA,MAAM,EAAE;AAFF;AADA,mBAHJ;AASNC,kBAAAA,UAAU,EAAE;AATN;AADA;AAHJ;AARyC,WAA7B,CAHC;;AAAA;AAGjBC,UAAAA,OAHiB;AAAA,2CA8BhBhB,GAAG,CAACiB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,YAAAA,OAAO,EAAE,mBADiB;AAE1BC,YAAAA,OAAO,EAAEJ;AAFiB,WAArB,CA9BgB;;AAAA;AAAA;AAAA;AAAA,2CAmChBhB,GAAG,CAACiB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,YAAAA,OAAO,EAAE,sBADiB;AAE1BE,YAAAA,KAAK,EAAE,YAAMF;AAFa,WAArB,CAnCgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB","sourcesContent":["import { Prisma } from \"../prisma.js\";\r\n\r\nexport const crearPedido = async (req, res) => {\r\n  const data = req.body;\r\n  try {\r\n    const pedidos = await Prisma.cabeceraPedido.create({\r\n      data: {\r\n        clienteId: data.clienteId,\r\n        fechaEmision: data.fechaEmision,\r\n        detalles: {\r\n          create: data.pedidoDetalle,\r\n        },\r\n      },\r\n      select: {\r\n        clienteId: true,\r\n        fechaEmision: true,\r\n        detalles: {\r\n          select: {\r\n            id: true,\r\n            cantidad: true,\r\n            producto: {\r\n              select: {\r\n                id: true,\r\n                nombre: true,\r\n              },\r\n            },\r\n            valorVenta: true,\r\n          },\r\n        },\r\n      },\r\n    });\r\n\r\n    return res.status(201).json({\r\n      message: \"Pedido registrado\",\r\n      content: pedidos,\r\n    });\r\n  } catch (error) {\r\n    return res.status(500).json({\r\n      message: \"Error en el servidor\",\r\n      error: error.message,\r\n    });\r\n  }\r\n};"],"file":"pedidos.controller.dev.js"}