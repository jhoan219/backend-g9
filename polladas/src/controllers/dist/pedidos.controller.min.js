"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.crearPedido=void 0;var _prisma=require("../prisma.js"),crearPedido=function(r,t){var a,s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.body,e.prev=1,e.next=4,regeneratorRuntime.awrap(_prisma.Prisma.cabeceraPedido.create({data:{clienteId:a.clienteId,fechaEmision:a.fechaEmision,detalles:{create:a.pedidoDetalle}},select:{clienteId:!0,fechaEmision:!0,detalles:{select:{id:!0,cantidad:!0,producto:{select:{id:!0,nombre:!0}},valorVenta:!0}}}}));case 4:return s=e.sent,e.abrupt("return",t.status(201).json({message:"Pedido registrado",content:s}));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",t.status(500).json({message:"Error en el servidor",error:e.t0.message}));case 11:case"end":return e.stop()}},null,null,[[1,8]])};exports.crearPedido=crearPedido;
//# sourceMappingURL=pedidos.controller.min.js.map
